'use strict';(function(){tinymce.PluginManager.requireLangPack('twikiimage');tinymce.create('tinymce.plugins.TWikiImage',{init:function(ed,url){ed.addCommand('twikiimage',function(){ed.windowManager.open({location:false,menubar:false,toolbar:false,status:false,url:url+'/image.htm',width:550,height:400,movable:true,inline:true},{plugin_url:url,attach_url:TWikiTiny.getTWikiVar("PUBURL")+'/'+
TWikiTiny.getTWikiVar("WEB")+'/'+
TWikiTiny.getTWikiVar("TOPIC")+'/',vars:ed.getParam("twiki_vars","")});});ed.addButton('image',{title:'twikiimage.image_desc',cmd:'twikiimage'});},getInfo:function(){return{longname:'TWiki image',author:'Crawford Currie, from Moxiecode Systems AB original',authorurl:'http://c-dot.co.uk.com',infourl:'http://twiki.org/cgi-bin/view/Plugins/TinyMCEPlugin',version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion};},_nodeChange:function(ed,cm,n,co){if(!n){return;}
cm.setActive('twikiimage',ed.dom.getParent(n,'img'));}});tinymce.PluginManager.add('twikiimage',tinymce.plugins.TWikiImage);})();;
